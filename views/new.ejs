<!-- views/new.ejs -->
<!-- Purpose: “New” form page; uses shared head/footer and posts to /forms (CREATE). -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('partials/head') %>
  </head>
  <body class="page-new">
    <h1><%= title %></h1>

    <% if (typeof error !== 'undefined') { %>
    <p class="error"><%= error %></p>
    <% } %>

    <p>
      <a href="/"> Home </a> |
      <a href="/forms">← Back to Forms</a>
    </p>

    <form action="/forms" method="POST">
      <!-- Optional: existing names dropdown (populated by /new route if provided) -->
      <label class="input" for="nameSelect">Choose existing form :</label>
      <select id="nameSelect" name="nameSelect">
        <option value="">-- choose or type below --</option>
        <% (names || []).forEach(n => { %>
        <option value="<%= n %>"><%= n %></option>
        <% }) %>
      </select>

      <label for="name">Form Name:</label>
      <input type="text" id="name" name="name" required />

      <label for="rankType">Rank Type:</label>
      <select id="rankType" name="rankType" required>
        <option value="kyu">Kyu/Level</option>
        <option value="dan">Dan/Degree</option>
      </select>

      <label for="rankNumber">Rank Number:</label>
      <input type="number" id="rankNumber" name="rankNumber" min="1" required />

      <label for="beltColor" id="beltLabel">Belt Color</label>
      <select id="beltColor" name="beltColor">
        <option value="white">White</option>
        <option value="orange">Orange</option>
        <option value="green">Green</option>
        <option value="purple">Purple</option>
        <option value="brown">Brown</option>
        <option value="black">Black</option>
      </select>

      <label for="category">Category:</label>
      <select id="category" name="category">
        <option value="Kata">Kata</option>
        <option value="Bunkai">Bunkai</option>
        <option value="Kumite">Kumite</option>
        <option value="Weapon">Weapon</option>
        <option value="Other">Other</option>
      </select>

      <label for="description">Description:</label>
      <textarea id="description" name="description"></textarea>

      <label for="referenceUrl">Reference URL:</label>
      <input type="url" id="referenceUrl" name="referenceUrl" />

      <button type="submit">Create Form</button>
    </form>

    <%- include('partials/footer') %>
  </body>
</html>
